(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2997aabd"],{"005f":function(t,s,e){"use strict";var i=e("2b06"),a=e.n(i);a.a},"0c75":function(t,s,e){},"0f20":function(t,s,e){},"1c80":function(t,s,e){"use strict";var i=e("3be8"),a=e.n(i);a.a},"27b4":function(t,s,e){},"2b06":function(t,s,e){},"3be8":function(t,s,e){},"4c2c":function(t,s,e){"use strict";var i=e("27b4"),a=e.n(i);a.a},"4e97":function(t,s,e){"use strict";var i=e("7c94"),a=e.n(i);a.a},5652:function(t,s,e){"use strict";var i=e("0c75"),a=e.n(i);a.a},"6ab7":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"detail"}},[e("DetailNavBar",{ref:"DetailNavBar",staticClass:"detail-nav",on:{titleClick:t.titleClick}}),e("Scroll",{ref:"scroll",staticClass:"content",attrs:{probeType:3},on:{scroll:t.contentscroll}},[e("DetailSwiper",{attrs:{topImages:t.topImages}}),e("DetailBaseInfo",{attrs:{goodsInfo:t.goodsInfo}}),e("DetailShopInfo",{attrs:{shop:t.shop}}),e("DetailGoodsInfo",{attrs:{detailInfo:t.detailInfo},on:{imageLoad:t.imageLoad}}),e("DetailParamInfo",{ref:"DetailParamInfo",attrs:{paramInfo:t.paramInfo}}),e("DetailComment",{ref:"DetailComment",attrs:{commentInfo:t.commentInfo}}),e("GoodsList",{ref:"recommends",attrs:{goods:t.recommends}})],1),e("DetailBottomBar",{on:{addCart:t.addCart}}),e("BackTop",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(s){return t.backClick(s)}}})],1)},a=[],n=(e("c5f6"),e("5d17")),o=e("4897"),c=e("74bd"),r=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("NavBar",[i("div",{staticClass:"back",attrs:{slot:"left"},on:{click:t.backClick},slot:"left"},[i("img",{attrs:{src:e("7a74")}})]),i("div",{staticClass:"title",attrs:{slot:"center"},slot:"center"},t._l(t.titles,function(s,e){return i("div",{key:e,staticClass:"title-item",class:{active:e===t.currentIndex},on:{click:function(s){return t.titleClick(e)}}},[t._v(t._s(s)+"\n\t\t\t")])}),0)])],1)},l=[],f=e("a7ac"),u={components:{NavBar:f["a"]},data:function(){return{titles:["商品","参数","评论","推荐"],currentIndex:0}},methods:{titleClick:function(t){this.currentIndex=t,this.$emit("titleClick",t)},backClick:function(){this.$router.back()}}},d=u,m=(e("77b8"),e("2877")),p=Object(m["a"])(d,r,l,!1,null,"ce8a732c",null),h=p.exports,v=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("swiper",{staticClass:"detail-swiper"},t._l(t.topImages,function(t,s){return e("swiper-item",{key:s},[e("img",{attrs:{src:t}})])}),1)},_=[],I=e("dc2c"),g={props:{topImages:{type:Array,default:function(){return[]}}},components:{Swiper:I["a"],SwiperItem:I["b"]}},C=g,b=(e("005f"),Object(m["a"])(C,v,_,!1,null,"18668210",null)),k=b.exports,w=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0==!Object.keys(t.goodsInfo).length?e("div",{attrs:{id:"detailBaseInfo"}},[e("div",{staticClass:"topInfo"},[e("div",{staticClass:"price"},[e("span",{staticClass:"newPrice"},[t._v(t._s(t.goodsInfo.Price))]),e("span",{staticClass:"oldprice"},[e("del",[t._v(t._s(t.goodsInfo.oldprice))])]),e("span",{staticClass:"discount",style:{backgroundColor:t.goodsInfo.bgColor}},[t._v(t._s(t.goodsInfo.discount))])]),e("div",{staticClass:"columns0"},[e("p",{staticClass:"columns2"},[t._v(t._s(t.goodsInfo.columns[2]))])]),e("div",{staticClass:"title"},[t._v(t._s(t.goodsInfo.title))]),e("div",{staticClass:"columns"},[e("span",{staticClass:"columns1"},[t._v(t._s(t.goodsInfo.columns[1]))]),e("span",{staticClass:"columns1"},[t._v(t._s(t.goodsInfo.columns[0]))])])]),e("div",[e("ul",{staticClass:"ems"},t._l(t.goodsInfo.services,function(s,i){return e("li",{staticClass:"emsitem"},[e("p",[e("img",{attrs:{src:s.icon}}),t._v(t._s(s.name))])])}),0)])]):t._e()},y=[],D={props:{goodsInfo:{type:Object,default:function(){return{}}}}},$=D,B=(e("9ce9"),Object(m["a"])($,w,y,!1,null,"2158e10d",null)),O=B.exports,T=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"shopInfo"}},[e("div",{staticClass:"shoplogo"},[e("img",{attrs:{src:t.shop.logo}}),e("span",[t._v(t._s(t.shop.name))])]),e("div",{staticClass:"shopcenter"},[e("div",{staticClass:"goodsCount"},[e("div",[t._v(t._s(t.shop.goodsCount))]),e("span",[t._v("全部宝贝")])]),e("div",{staticClass:"sells"},[e("div",[t._v(t._s(t.shop.sells))]),e("span",[t._v("总销量")])]),e("div",{staticClass:"score"},t._l(t.shop.score,function(s,i){return e("div",{class:{active:t.isBetter}},[e("span",[t._v(t._s(s.name)+" ")]),e("span",[t._v(t._s(s.score))])])}),0)]),e("button",{staticClass:"wellcome"},[t._v("进店逛逛")])])},j=[],x={props:{shop:{type:Object,default:function(){return{}}}},data:function(){return{isBetter:!1}}},E=x,L=(e("1c80"),Object(m["a"])(E,T,j,!1,null,"4d507bf0",null)),P=L.exports,S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==Object.keys(t.detailInfo).length?e("div",{attrs:{id:"detailInfo"}},[e("div",{staticClass:"info-desc"},[e("div",{staticClass:"start"}),e("div",{staticClass:"desc"},[t._v(t._s(t.detailInfo.desc))]),e("div",{staticClass:"end"})]),e("div",{staticClass:"info-key"},[t._v(t._s(t.detailInfo.detailImage[0].key))]),e("div",{staticClass:"info-list"},t._l(t.detailInfo.detailImage[0].list,function(s,i){return e("img",{key:i,attrs:{src:s},on:{load:t.imgLoad}})}),0)]):t._e()},N=[],Y={props:{detailInfo:{type:Object,default:function(){return{}}}},data:function(){return{counter:0,imageLength:0}},methods:{imgLoad:function(){++this.counter===this.imageLength&&this.$emit("imageLoad")}},watch:{detailInfo:function(){this.imageLength=this.detailInfo.detailImage[0].list.length}}},G=Y,A=(e("df25"),Object(m["a"])(G,S,N,!1,null,"58044ef0",null)),M=A.exports,z=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==Object.keys(t.paramInfo).length?e("div",{staticClass:"params-wrap"},[t._l(t.paramInfo.sizes,function(s,i){return e("table",{key:i},t._l(s,function(s,i){return e("tr",{key:i},t._l(s,function(s,i){return e("td",{key:i,staticClass:"rule-list-item"},[t._v(t._s(s))])}),0)}),0)}),e("table",t._l(t.paramInfo.infos,function(s,i){return e("tr",{key:i,staticClass:"info-list-wrap"},[e("td",{staticClass:"info-list-tit"},[t._v(t._s(s.key)+" ：")]),e("td",[t._v(t._s(s.value))])])}),0),t.paramInfo.image.length>0?e("div",[e("img",{attrs:{src:t.paramInfo.image}})]):t._e()],2):t._e()},F=[],J={props:{paramInfo:{type:Object,default:function(){return{}}}}},q=J,R=(e("4e97"),Object(m["a"])(q,z,F,!1,null,"086624c8",null)),U=R.exports,V=function(){var t=this,s=t.$createElement,e=t._self._c||s;return Object.keys(t.commentInfo).length>0?e("div",{staticClass:"commentInfo"},[t._m(0),e("div",{staticClass:"info-user"},[e("img",{attrs:{src:t.commentInfo.user.avatar}}),e("span",[t._v(t._s(t.commentInfo.user.uname))])]),e("div",{staticClass:"info-detail"},[e("p",[t._v(t._s(t.commentInfo.content))]),e("div",{staticClass:"info-other"},[e("span",{staticClass:"date"},[t._v(t._s(t._f("showDate")(t.commentInfo.created)))]),e("span",[t._v(t._s(t.commentInfo.style))])]),e("div",{staticClass:"info-imgs"},t._l(t.commentInfo.images,function(t,s){return e("img",{key:s,attrs:{src:t}})}),0)])]):t._e()},X=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"info-header"},[e("div",{staticClass:"header-title"},[t._v("用户评价")]),e("div",{staticClass:"header-more"},[t._v("更多\n\t\t"),e("i",{staticClass:"arrow-right"},[t._v(">")])])])}],H=e("90b9"),K={props:{commentInfo:{type:Object,default:function(){return{}}}},filters:{showDate:function(t){var s=new Date(1e3*t);return Object(H["b"])(s,"yyyy-MM-dd hh:mm:ss")}}},Q=K,W=(e("5652"),Object(m["a"])(Q,V,X,!1,null,"19f3a279",null)),Z=W.exports,tt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"DetailBottomBar"}},[t._m(0),e("div",[e("div",{staticClass:"shopcart",on:{click:t.addToCart}},[t._v("加入"),e("br"),t._v("购物车")]),e("div",{staticClass:"shopping"},[t._v("购买")])])])},st=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"muti"},[e("div",[e("i",{staticClass:"qwe"}),e("span",[t._v("客服")])]),e("div",[e("i",{staticClass:"rty"}),e("span",[t._v("店铺")])]),e("div",[e("i",{staticClass:"uio"}),e("span",[t._v("收藏")])])])}],et={data:function(){return{}},methods:{addToCart:function(){this.$emit("addCart")}}},it=et,at=(e("c58e"),Object(m["a"])(it,tt,st,!1,null,"258eee8d",null)),nt=at.exports;e("7f7f");function ot(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}var ct=e("1bab");function rt(t){return Object(ct["a"])({url:"/detail",params:{iid:t}})}function lt(){return Object(ct["a"])({url:"/recommend"})}var ft=function t(s,e,i){ot(this,t),this.title=s.title,this.desc=s.desc,this.bgColor=s.discountBgColor,this.Price=s.price,this.oldprice=s.oldprice,this.discount=s.discountDesc,this.columns=e,this.services=i,this.realPrice=s.lowNowPrice},ut=function t(s){ot(this,t),this.logo=s.shopLogo,this.name=s.name,this.fans=s.cFans,this.sells=s.cSells,this.score=s.score,this.goodsCount=s.cGoods},dt=function t(s,e){ot(this,t),this.image=s.images?s.images[0]:"",this.infos=s.set,this.sizes=e.tables},mt=e("eecb"),pt={name:"Detail",components:{DetailNavBar:h,DetailSwiper:k,DetailBaseInfo:O,DetailShopInfo:P,DetailGoodsInfo:M,DetailParamInfo:U,DetailComment:Z,DetailBottomBar:nt,GoodsList:c["a"],Scroll:n["a"],Toast:o["a"]},data:function(){return{iid:null,topImages:[],goodsInfo:{},shop:{},detailInfo:{},paramInfo:{},commentInfo:{},recommends:[],titleTopY:[]}},mixins:[mt["b"],mt["a"]],created:function(){var t=this;this.iid=this.$route.params.iid,rt(this.iid).then(function(s){var e=s.result;t.topImages=e.itemInfo.topImages,t.goodsInfo=new ft(e.itemInfo,e.columns,e.shopInfo.services),t.shop=new ut(e.shopInfo),t.detailInfo=e.detailInfo,t.paramInfo=new dt(e.itemParams.info,e.itemParams.rule),e.rate.cRate>0&&(t.commentInfo=e.rate.list[0])}),lt().then(function(s){t.recommends=s.data.list})},methods:{imageLoad:function(){this.$refs.scroll.refresh(),this.titleTopY=[],this.titleTopY.push(0),this.titleTopY.push(this.$refs.DetailParamInfo.$el.offsetTop),this.titleTopY.push(this.$refs.DetailComment.$el.offsetTop),this.titleTopY.push(this.$refs.recommends.$el.offsetTop),this.titleTopY.push(Number.MAX_VALUE)},addCart:function(){var t=this,s={};s.image=this.topImages[0],s.title=this.goodsInfo.title,s.realPrice=this.goodsInfo.realPrice,s.iid=this.iid,this.$store.dispatch("addCart",s).then(function(s){t.$toast.show(s)})},titleClick:function(t){this.$refs.scroll.scrollTo(0,-this.titleTopY[t],200)},contentscroll:function(t){for(var s=-t.y,e=this.titleTopY,i=this.$refs.DetailNavBar.currentIndex,a=0;a<e.length-1;a++)i!==a&&s>=e[a]&&s<e[a+1]&&(this.$refs.DetailNavBar.currentIndex=a);this.ShowBackTop(t)}}},ht=pt,vt=(e("4c2c"),Object(m["a"])(ht,i,a,!1,null,"d454d6e0",null));s["default"]=vt.exports},"77b8":function(t,s,e){"use strict";var i=e("0f20"),a=e.n(i);a.a},"7a74":function(t,s,e){t.exports=e.p+"img/back.26df9036.svg"},"7c94":function(t,s,e){},"7f7f":function(t,s,e){var i=e("86cc").f,a=Function.prototype,n=/^\s*function ([^ (]*)/,o="name";o in a||e("9e1e")&&i(a,o,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},"9ce9":function(t,s,e){"use strict";var i=e("d93f"),a=e.n(i);a.a},a26a:function(t,s,e){},c58e:function(t,s,e){"use strict";var i=e("a26a"),a=e.n(i);a.a},d1af:function(t,s,e){},d93f:function(t,s,e){},df25:function(t,s,e){"use strict";var i=e("d1af"),a=e.n(i);a.a}}]);
//# sourceMappingURL=chunk-2997aabd.e49a0f18.js.map